(this["webpackJsonpmaze-generator"]=this["webpackJsonpmaze-generator"]||[]).push([[0],{44:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(17),c=n.n(r),s=(n(44),n(7)),o=n(12),l=n(74),u=n(72),f=n(53),d=n(71),j=n(14),x=n(73),h=n(70),b=n(68),v=n(1),m=function(e){var t=e.color,n=void 0===t?"white":t,a=e.width,i=void 0===a?20:a,r=e.height,c=void 0===r?20:r,s=e.viewBox,o=void 0===s?"0 0 512 512":s,l=e.d,u=void 0===l?"M0,0z":l,f=e.extras,d=void 0===f?void 0:f;return Object(v.jsxs)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas",role:"img",width:i,height:c,viewBox:o,xmlns:"http://www.w3.org/2000/svg",children:[d,Object(v.jsx)("path",{fill:n,d:u})]})},O=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}))},p=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}))},g=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"}))},M=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"}))},z=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}))},y=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 288.488 288.488",extras:Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{fill:e.color||"white",d:"m280.988,0.001l-86.496,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,20c0,4.135 3.364,7.5 7.5,7.5l58.996,0l0,218.487l-218.488,0l0,-218.488l58.996,0c4.136,0 7.5,-3.364 7.5,-7.5l0,-20c0,-4.135 -3.364,-7.5 -7.5,-7.5l-86.496,0c-4.135,0 -7.5,3.365 -7.5,7.5l0,273.488c0,4.135 3.365,7.5 7.5,7.5l273.488,0c4.135,0 7.5,-3.365 7.5,-7.5l0,-273.487c0,-4.136 -3.364,-7.5 -7.5,-7.5z"}),Object(v.jsx)("path",{fill:e.color||"white",d:"m87.489,97.032c-2.003,0 -3.887,0.78 -5.303,2.197l-14.143,14.142c-1.416,1.416 -2.197,3.3 -2.197,5.303c0,2.003 0.78,3.886 2.197,5.304l70.898,70.899c1.417,1.416 3.3,2.196 5.303,2.196s3.886,-0.78 5.303,-2.196l70.898,-70.898c1.416,-1.417 2.197,-3.3 2.197,-5.303c0,-2.004 -0.78,-3.887 -2.197,-5.304l-14.143,-14.142c-1.416,-1.416 -3.3,-2.196 -5.303,-2.196c-2.003,0 -3.887,0.78 -5.303,2.197l-33.952,33.952l0,-107.753c0,-4.136 -3.364,-7.5 -7.5,-7.5l-20,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,107.751l-33.951,-33.952c-1.417,-1.416 -3.3,-2.197 -5.304,-2.197z"})]})}))},w=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 288.488 288.488",extras:Object(v.jsxs)("g",{transform:"rotate(180 144.24400329589844,144.24400329589844) ",children:[Object(v.jsx)("path",{fill:e.color||"white",d:"m280.988,0l-273.488,0c-4.135,0 -7.5,3.364 -7.5,7.5l0,273.488c0,4.135 3.365,7.5 7.5,7.5l86.496,0c4.136,0 7.5,-3.365 7.5,-7.5l0,-20c0,-4.136 -3.364,-7.5 -7.5,-7.5l-58.996,0l0,-218.488l218.488,0l0,218.488l-58.996,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,20c0,4.135 3.364,7.5 7.5,7.5l86.496,0c4.135,0 7.5,-3.365 7.5,-7.5l0,-273.488c0,-4.136 -3.364,-7.5 -7.5,-7.5z"}),Object(v.jsx)("path",{fill:e.color||"white",d:"m222.642,194.232c0,-2.003 -0.78,-3.887 -2.197,-5.304l-14.143,-14.141c-1.417,-1.417 -3.3,-2.197 -5.303,-2.197c-2.003,0 -3.887,0.78 -5.303,2.197l-33.952,33.952l0,-107.752c0,-4.136 -3.364,-7.5 -7.5,-7.5l-20,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,107.751l-33.952,-33.952c-1.416,-1.417 -3.3,-2.197 -5.303,-2.197c-2.003,0 -3.886,0.78 -5.303,2.196l-14.143,14.142c-1.416,1.417 -2.197,3.3 -2.197,5.303c0,2.003 0.78,3.886 2.197,5.303l70.898,70.899c1.417,1.417 3.3,2.196 5.303,2.196c2.003,0 3.886,-0.78 5.303,-2.197l70.898,-70.898c1.417,-1.415 2.197,-3.298 2.197,-5.301z"})]})}))},S={mazeWrapper:{position:"absolute",overflow:"auto",top:64,left:0,right:0,bottom:0},mazeContainer:{display:"grid",placeItems:"center",inset:"auto 0"},isShowPath:function(e){return{visibility:e?"visible":"hidden",position:"absolute",display:"grid",placeItems:"center",inset:"auto 0"}},canvas:{display:"block",outline:0,padding:20},isShowMenu:function(e){return{visibility:e?"visible":"hidden",position:"absolute",marginTop:e?5:15,marginLeft:-72,padding:10,textAlign:"center",color:"#000",backgroundColor:"#fff",borderRadius:5,boxShadow:"0 0 5px #777",opacity:e?1:0,transition:"0.2s",zIndex:e?2:-1,overflow:"auto"}},appBar:{alignItems:"center"},menu:{width:150,padding:"0 25px"},simpleSliderInfo:{display:"grid",gridTemplateColumns:"auto 30px 30px"},rangeSliderInfo:{display:"grid",gridTemplateColumns:"43px 64px 77px",maxHeight:30},rangeSliderIcon:function(e){return{width:20,height:20,transform:"rotate(".concat(90*e,"deg)")}}},C=function(e){var t=e.text,n=e.name,a=e.value,i=e.min,r=e.max,c=e.onChange,s=e.reset,o=function(e,t){c(Object(j.a)({},n,t),s)};return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:S.simpleSliderInfo,children:[Object(v.jsxs)(b.a,{id:t,align:"left",children:[t,": ",a]}),Object(v.jsxs)(h.a,{color:"primary",children:[Object(v.jsx)(f.a,{onClick:function(){return o(0,--a>=i?a:i)},children:Object(v.jsx)(O,{color:"#3f51b5"})}),Object(v.jsx)(f.a,{onClick:function(){return o(0,++a<=r?a:r)},children:Object(v.jsx)(p,{color:"#3f51b5"})})]})]}),Object(v.jsx)(x.a,{value:a,min:i,max:r,onChange:o,valueLabelDisplay:"off","aria-labelledby":t})]})},P=function(e){var t=e.text,n=e.names,a=e.values,i=e.min,r=e.max,c=e.onChange,s=e.buttonValue,o=e.Icon;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:S.rangeSliderInfo,children:[Object(v.jsxs)(b.a,{align:"left",children:[t,":"]}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){c(Object(j.a)({},t,++s>3?0:s),!0)},children:Object(v.jsx)("div",{style:S.rangeSliderIcon(s),children:Object(v.jsx)(o,{color:"#3f51b5"})})}),Object(v.jsxs)(b.a,{id:t,align:"center",children:[a[0]," ",a[1]]})]}),Object(v.jsx)(x.a,{value:a,min:i,max:r,onChange:function(e,t){var a;c((a={},Object(j.a)(a,n[0],t[0]),Object(j.a)(a,n[1],t[1]),a))},valueLabelDisplay:"off","aria-labelledby":t})]})},I=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},k=1e3,B=1e4,R={x:20,y:20,size:3,start:3,sMin:0,sMax:0,finish:1,fMin:0,fMax:0},E=function(e){return 2*e+1},H=function(e){return 2*e-1},L=function(e,t,n){return e%2?n:t},V=function(e,t,n,a){return e<t||e>n?a:e},T=function(e){e instanceof Object||(e={});var t=e,n=t.x,a=t.y,i=t.size,r=t.start,c=t.sMin,s=t.sMax,o=t.finish,l=t.fMin,u=t.fMax;for(var f in e={x:n,y:a,size:i,start:r,sMin:c,sMax:s,finish:o,fMin:l,fMax:u})Number.isInteger(e[f])||(e[f]=R[f]);var d=e;n=d.x,a=d.y,i=d.size,r=d.start,c=d.sMin,s=d.sMax,o=d.finish,l=d.fMin,u=d.fMax,n=V(n,2,k,R.x),a=V(a,2,k,R.y),i=V(i,1,5,R.size),r=V(r,0,3,R.start),o=V(o,0,3,R.finish);var j=L(r,n,a);s=V(s,1,j,j),c=V(c,1,s,1);var x=L(o,n,a);return u=V(u,1,x,x),l=V(l,1,u,1),r===o&&c===s&&c===l&&l===u&&(u===x?--l:++u),{x:n,y:a,size:i,start:r,sMin:c,sMax:s,finish:o,fMin:l,fMax:u}},J="maze-params",F="menu-params",N=function(e){var t,n=localStorage[e];return I(n)&&(t=JSON.parse(n)),t=T(t),localStorage[e]=JSON.stringify(t),t},W=function(e,t){localStorage[e]=JSON.stringify(t)},D={getMazeParams:function(){return N(J)},setMazeParams:function(e){W(J,e)},getMenuParams:function(){return N(F)},setMenuParams:function(e){W(F,e)}},A=function(e){var t=e.updateMaze,n=e.updateMazeParams,a=e.setIsShowMenu,r=i.a.useState(D.getMenuParams()),c=Object(o.a)(r,2),l=c[0],u=c[1],d=l.x,j=l.y,x=l.size,h=l.start,b=l.sMin,m=l.sMax,O=l.finish,p=l.fMin,g=l.fMax,M=function(e,t){e=Object(s.a)(Object(s.a)({},l),e),t&&(e=function(e){return Object(s.a)(Object(s.a)({},e),{},{sMin:1,fMin:1,sMax:L(e.start,e.x,e.y),fMax:L(e.finish,e.x,e.y)})}(e)),D.setMenuParams(e),u(e)};return Object(v.jsxs)("div",{style:S.menu,children:[Object(v.jsx)(C,{text:"width",name:"x",value:d,min:2,max:k,onChange:M,reset:!0}),Object(v.jsx)(C,{text:"height",name:"y",value:j,min:2,max:k,onChange:M,reset:!0}),Object(v.jsx)(C,{text:"size",name:"size",value:x,min:1,max:5,onChange:M}),Object(v.jsx)(P,{text:"start",names:["sMin","sMax"],values:[b,m],min:1,max:L(h,d,j),onChange:M,buttonValue:h,Icon:y}),Object(v.jsx)(P,{text:"finish",names:["fMin","fMax"],values:[p,g],min:1,max:L(O,d,j),onChange:M,buttonValue:O,Icon:w}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){var e=5*x+x,t=S.mazeWrapper.top,n=2*S.canvas.padding;M({x:Math.floor((window.innerWidth-n-x)/e),y:Math.floor((window.innerHeight-n-x-t)/e)},!0)},children:"fit on screen"}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){n(l),t(l),a(!1)},children:"generate"})]})},q=function(e){var t=e.updateMaze,n=e.updateMazeParams,a=i.a.useState(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],l=i.a.useRef(),u=i.a.useRef();i.a.useEffect((function(){var e=function(e){if(c){var t=l.current,n=u.current;t&&t.contains(e.target)||n&&n.contains(e.target)||s(!1)}};return c?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[c]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(d.a,{ref:u,color:"inherit","aria-label":"menu",onClick:function(){s(!c)},children:Object(v.jsx)(z,{})}),Object(v.jsx)("div",{ref:l,style:S.isShowMenu(c),children:Object(v.jsx)(A,{updateMaze:t,updateMazeParams:n,setIsShowMenu:s})})]})},G=function(e){var t=e.mazeParams,n=e.updateMaze,a=e.updateMazeParams,i=e.updateSize,r=e.isShowPath,c=e.toggleIsShowPath,s=e.loading;return Object(v.jsx)(l.a,{style:S.appBar,children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(f.a,{color:"inherit",disabled:s,onClick:function(){return n(t)},children:"generate"}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"show path",onClick:c,children:r?Object(v.jsx)(M,{}):Object(v.jsx)(g,{})}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"zoom out",onClick:function(){return i((null===t||void 0===t?void 0:t.size)-1)},children:Object(v.jsx)(O,{})}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"zoom in",onClick:function(){return i((null===t||void 0===t?void 0:t.size)+1)},children:Object(v.jsx)(p,{})}),Object(v.jsx)(q,{updateMaze:n,updateMazeParams:a})]})})},K=n(26),Q=function(e){var t=e.path,n=e.mazeParams,a=i.a.useRef();return i.a.useEffect((function(){var e=n.x,i=n.y,r=n.size,c=5*r,s=c+r,o=s/2,l=o-r,u=e*s+r,f=i*s+r,d=a.current,j=d.getContext("2d");d.width=u,d.height=f,j.fillStyle="#e91e63";var x,h=Object(K.a)(t);try{for(h.s();!(x=h.n()).done;){var b=x.value,v=b.x,m=b.y;j.fillRect(v%2?v*o:v*o-l,m%2?m*o:m*o-l,v%2?r:c,m%2?r:c)}}catch(O){h.e(O)}finally{h.f()}}),[t,n]),Object(v.jsx)("canvas",{ref:a,style:S.canvas})},U=function(e){var t=e.ways,n=e.mazeParams,a=i.a.useRef();return i.a.useEffect((function(){var e=n.x,i=n.y,r=n.size,c=5*r,s=c+r,o=s/2,l=o-r,u=e*s+r,f=i*s+r,d=a.current,j=d.getContext("2d");d.width=u,d.height=f,j.fillStyle="#fff",j.fillRect(0,0,u,f),j.fillStyle="#263238";for(var x=0;x<=i;++x)j.fillRect(0,x*s,u,r);for(var h=0;h<=e;++h)j.fillRect(h*s,0,r,f);j.fillStyle="#fff";var b,v=Object(K.a)(t);try{for(v.s();!(b=v.n()).done;){var m=b.value,O=m.x,p=m.y;j.fillRect(O%2?O*o-l:O*o,p%2?p*o-l:p*o,O%2?c:r,p%2?c:r)}}catch(g){v.e(g)}finally{v.f()}}),[t,n]),Object(v.jsx)("canvas",{ref:a,style:S.canvas})},X=function(e){var t=e.maze,n=e.mazeParams,a=e.isShowPath;return Object(v.jsx)(v.Fragment,{children:t&&Object(v.jsx)("div",{style:S.mazeWrapper,children:Object(v.jsxs)("div",{style:S.mazeContainer,children:[Object(v.jsx)(U,{ways:t.ways,mazeParams:n}),Object(v.jsx)("div",{style:S.isShowPath(a),children:Object(v.jsx)(Q,{path:t.path,mazeParams:n})})]})})})},Y=n(31),Z=function(e){return[-1,B,1,-B].filter((function(t){return t!==-e}))},$=Math.random,_=function(e){return e[~~($()*e.length)]},ee=function(e){var t=[];return e.forEach((function(e){return t.push({x:~~(e/B),y:e%B})})),t},te=function(e){var t=e.x,n=e.y,a=e.start,i=e.sMin,r=e.sMax,c=e.finish,s=e.fMin,o=e.fMax,l=function(e,t){return 2*Math.floor(Math.random()*(t-e+2)/2)+e},u=[function(e,t){return l(e,t)*B},function(e,n){return(t-1)*B+l(e,n)},function(e,t){return l(e,t)*B+n-1},function(e,t){return l(e,t)}],f=new Set,d=u[a](i,r);return f.add(d),f.add(function e(t){var n=u[c](s,o);return n===t?e(t):n}(d)),f},ne=function(e){for(var t=e.x,n=e.y,a=new Set,i=1;i<n;i+=2)for(var r=1;r<t;r+=2)a.add(r*B+i);return a},ae=function(e,t,n,a,i){var r=i.length-1,c=i[r],s=c.vectors,o=c.curr;if(s.length){var l=_(s);i[r].vectors=s.filter((function(e){return e!==l}));var u=l+o,f=2*l+o;t.has(u)&&(a.add(u),n.add(u),t.delete(u),t.size&&a.add(o)),e.has(f)&&(n.add(u),e.delete(f),i.push({prev:u,curr:f,vectors:Z(l)}),1===t.size&&(a.add(u),a.add(f)))}else 1===t.size&&(a.has(i[r].prev)?(a.delete(i[r].curr),a.delete(i[r].prev)):(a.add(i[r].prev),a.add(i[r-1].curr))),i.pop()},ie=function(e){e=function(e){return Object(s.a)(Object(s.a)({},e),{},{x:E(e.x),y:E(e.y),sMin:H(e.sMin),sMax:H(e.sMax),fMin:H(e.fMin),fMax:H(e.fMax)})}(e=T(e));var t=ne(e),n=te(e),a=new Set,i=new Set,r=_(Object(Y.a)(t));t.delete(r);for(var c=[{curr:r,vectors:Z()}];t.size||n.size;)ae(t,n,a,i,c);return{ways:ee(a),path:ee(i)}},re=function(){var e=i.a.useState(null),t=Object(o.a)(e,2),n=t[0],a=t[1],r=i.a.useState(null),c=Object(o.a)(r,2),l=c[0],u=c[1],f=i.a.useState(!1),d=Object(o.a)(f,2),j=d[0],x=d[1],h=i.a.useState(!0),b=Object(o.a)(h,2),m=b[0],O=b[1],p=function(e){O(!0),x(!1),a(null),setTimeout((function(){a(ie(e)),setTimeout((function(){O(!1)}))}))};i.a.useEffect((function(){var e=D.getMazeParams();u(e),p(e)}),[]);var g=function(e){D.setMazeParams(e),u(e)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(G,{mazeParams:l,updateMaze:p,updateMazeParams:g,updateSize:function(e){e<1||e>5||g(Object(s.a)(Object(s.a)({},l),{},{size:e}))},isShowPath:j,toggleIsShowPath:function(){x(!j)},loading:m}),Object(v.jsx)(X,{maze:n,mazeParams:l,isShowPath:j})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(re,{})}),document.getElementById("root")),ce()}},[[52,1,2]]]);
//# sourceMappingURL=main.f2349e42.chunk.js.map