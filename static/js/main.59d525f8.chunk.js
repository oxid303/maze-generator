(this["webpackJsonpmaze-generator"]=this["webpackJsonpmaze-generator"]||[]).push([[0],{42:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),s=(n(42),n(7)),o=n(12),l=n(72),u=n(70),f=n(51),d=n(69),j=n(14),h=n(71),x=n(68),b=n(66),v=n(1),m=function(e){var t=e.color,n=void 0===t?"white":t,a=e.width,r=void 0===a?20:a,i=e.height,c=void 0===i?20:i,s=e.viewBox,o=void 0===s?"0 0 512 512":s,l=e.d,u=void 0===l?"M0,0z":l,f=e.extras,d=void 0===f?void 0:f;return Object(v.jsxs)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas",role:"img",width:r,height:c,viewBox:o,xmlns:"http://www.w3.org/2000/svg",children:[d,Object(v.jsx)("path",{fill:n,d:u})]})},O=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}))},p=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}))},M=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"}))},g=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"}))},z=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 448 512",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}))},y=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 288.488 288.488",extras:Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{fill:e.color||"white",d:"m280.988,0.001l-86.496,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,20c0,4.135 3.364,7.5 7.5,7.5l58.996,0l0,218.487l-218.488,0l0,-218.488l58.996,0c4.136,0 7.5,-3.364 7.5,-7.5l0,-20c0,-4.135 -3.364,-7.5 -7.5,-7.5l-86.496,0c-4.135,0 -7.5,3.365 -7.5,7.5l0,273.488c0,4.135 3.365,7.5 7.5,7.5l273.488,0c4.135,0 7.5,-3.365 7.5,-7.5l0,-273.487c0,-4.136 -3.364,-7.5 -7.5,-7.5z"}),Object(v.jsx)("path",{fill:e.color||"white",d:"m87.489,97.032c-2.003,0 -3.887,0.78 -5.303,2.197l-14.143,14.142c-1.416,1.416 -2.197,3.3 -2.197,5.303c0,2.003 0.78,3.886 2.197,5.304l70.898,70.899c1.417,1.416 3.3,2.196 5.303,2.196s3.886,-0.78 5.303,-2.196l70.898,-70.898c1.416,-1.417 2.197,-3.3 2.197,-5.303c0,-2.004 -0.78,-3.887 -2.197,-5.304l-14.143,-14.142c-1.416,-1.416 -3.3,-2.196 -5.303,-2.196c-2.003,0 -3.887,0.78 -5.303,2.197l-33.952,33.952l0,-107.753c0,-4.136 -3.364,-7.5 -7.5,-7.5l-20,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,107.751l-33.951,-33.952c-1.417,-1.416 -3.3,-2.197 -5.304,-2.197z"})]})}))},w=function(e){return Object(v.jsx)(m,Object(s.a)(Object(s.a)({},e),{},{viewBox:"0 0 288.488 288.488",extras:Object(v.jsxs)("g",{transform:"rotate(180 144.24400329589844,144.24400329589844) ",children:[Object(v.jsx)("path",{fill:e.color||"white",d:"m280.988,0l-273.488,0c-4.135,0 -7.5,3.364 -7.5,7.5l0,273.488c0,4.135 3.365,7.5 7.5,7.5l86.496,0c4.136,0 7.5,-3.365 7.5,-7.5l0,-20c0,-4.136 -3.364,-7.5 -7.5,-7.5l-58.996,0l0,-218.488l218.488,0l0,218.488l-58.996,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,20c0,4.135 3.364,7.5 7.5,7.5l86.496,0c4.135,0 7.5,-3.365 7.5,-7.5l0,-273.488c0,-4.136 -3.364,-7.5 -7.5,-7.5z"}),Object(v.jsx)("path",{fill:e.color||"white",d:"m222.642,194.232c0,-2.003 -0.78,-3.887 -2.197,-5.304l-14.143,-14.141c-1.417,-1.417 -3.3,-2.197 -5.303,-2.197c-2.003,0 -3.887,0.78 -5.303,2.197l-33.952,33.952l0,-107.752c0,-4.136 -3.364,-7.5 -7.5,-7.5l-20,0c-4.136,0 -7.5,3.364 -7.5,7.5l0,107.751l-33.952,-33.952c-1.416,-1.417 -3.3,-2.197 -5.303,-2.197c-2.003,0 -3.886,0.78 -5.303,2.196l-14.143,14.142c-1.416,1.417 -2.197,3.3 -2.197,5.303c0,2.003 0.78,3.886 2.197,5.303l70.898,70.899c1.417,1.417 3.3,2.196 5.303,2.196c2.003,0 3.886,-0.78 5.303,-2.197l70.898,-70.898c1.417,-1.415 2.197,-3.298 2.197,-5.301z"})]})}))},S={mazeWrapper:{position:"absolute",overflow:"auto",top:64,left:0,right:0,bottom:0,display:"grid",gridTemplateColumns:"auto auto"},canvas:{display:"block",outline:0,padding:20},isShowPath:function(e){return{visibility:e?"visible":"hidden",position:"absolute",top:0}},isShowMenu:function(e){return{visibility:e?"visible":"hidden",position:"absolute",marginTop:e?5:15,marginLeft:-72,padding:10,textAlign:"center",color:"#000",backgroundColor:"#fff",borderRadius:5,boxShadow:"0 0 5px #777",opacity:e?1:0,transition:"0.2s",zIndex:e?2:-1,overflow:"auto"}},appBar:{alignItems:"center"},menu:{width:150,padding:"0 25px"},simpleSliderInfo:{display:"grid",gridTemplateColumns:"auto 30px 30px"},rangeSliderInfo:{display:"grid",gridTemplateColumns:"43px 64px 77px",maxHeight:30},rangeSliderIcon:function(e){return{width:20,height:20,transform:"rotate(".concat(90*e,"deg)")}}},P=function(e){var t=e.text,n=e.name,a=e.value,r=e.min,i=e.max,c=e.onChange,s=e.reset,o=function(e,t){c(Object(j.a)({},n,t),s)};return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:S.simpleSliderInfo,children:[Object(v.jsxs)(b.a,{id:t,align:"left",children:[t,": ",a]}),Object(v.jsxs)(x.a,{color:"primary",children:[Object(v.jsx)(f.a,{onClick:function(){return o(0,--a>=r?a:r)},children:Object(v.jsx)(O,{color:"#3f51b5"})}),Object(v.jsx)(f.a,{onClick:function(){return o(0,++a<=i?a:i)},children:Object(v.jsx)(p,{color:"#3f51b5"})})]})]}),Object(v.jsx)(h.a,{value:a,min:r,max:i,onChange:o,valueLabelDisplay:"off","aria-labelledby":t})]})},C=function(e){var t=e.text,n=e.names,a=e.values,r=e.min,i=e.max,c=e.onChange,s=e.buttonValue,o=e.Icon;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{style:S.rangeSliderInfo,children:[Object(v.jsxs)(b.a,{align:"left",children:[t,":"]}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){c(Object(j.a)({},t,++s>3?0:s),!0)},children:Object(v.jsx)("div",{style:S.rangeSliderIcon(s),children:Object(v.jsx)(o,{color:"#3f51b5"})})}),Object(v.jsxs)(b.a,{id:t,align:"center",children:[a[0]," ",a[1]]})]}),Object(v.jsx)(h.a,{value:a,min:r,max:i,onChange:function(e,t){var a;c((a={},Object(j.a)(a,n[0],t[0]),Object(j.a)(a,n[1],t[1]),a))},valueLabelDisplay:"off","aria-labelledby":t})]})},I=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},k=1e3,B=1e4,R={x:20,y:20,size:3,start:3,sMin:0,sMax:0,finish:1,fMin:0,fMax:0},E=function(e){return 2*e+1},H=function(e){return 2*e-1},L=function(e,t,n){return e%2?n:t},T=function(e,t,n,a){return e<t||e>n?a:e},V=function(e){e instanceof Object||(e={});var t=e,n=t.x,a=t.y,r=t.size,i=t.start,c=t.sMin,s=t.sMax,o=t.finish,l=t.fMin,u=t.fMax;for(var f in e={x:n,y:a,size:r,start:i,sMin:c,sMax:s,finish:o,fMin:l,fMax:u}){var d=e[f];"number"===typeof d&&Math.floor(d)===d&&isFinite(d)||(e[f]=R[f])}var j=e;n=j.x,a=j.y,r=j.size,i=j.start,c=j.sMin,s=j.sMax,o=j.finish,l=j.fMin,u=j.fMax,n=T(n,2,k,R.x),a=T(a,2,k,R.y),r=T(r,1,5,R.size),i=T(i,0,3,R.start),o=T(o,0,3,R.finish);var h=L(i,n,a);s=T(s,1,h,h),c=T(c,1,s,1);var x=L(o,n,a);return u=T(u,1,x,x),l=T(l,1,u,1),i===o&&c===s&&c===l&&l===u&&(u===x?--l:++u),{x:n,y:a,size:r,start:i,sMin:c,sMax:s,finish:o,fMin:l,fMax:u}},F="maze-params",J="menu-params",N=function(e){var t,n=localStorage[e];return I(n)&&(t=JSON.parse(n)),t=V(t),localStorage[e]=JSON.stringify(t),t},W=function(e,t){localStorage[e]=JSON.stringify(t)},D={getMazeParams:function(){return N(F)},setMazeParams:function(e){W(F,e)},getMenuParams:function(){return N(J)},setMenuParams:function(e){W(J,e)}},A=function(e){var t=e.updateMaze,n=e.updateMazeParams,a=e.setIsShowMenu,i=r.a.useState(R),c=Object(o.a)(i,2),l=c[0],u=c[1];r.a.useEffect((function(){u(D.getMenuParams())}),[]);var d=l.x,j=l.y,h=l.size,x=l.start,b=l.sMin,m=l.sMax,O=l.finish,p=l.fMin,M=l.fMax,g=function(e,t){e=Object(s.a)(Object(s.a)({},l),e),t&&(e=function(e){return Object(s.a)(Object(s.a)({},e),{},{sMin:1,fMin:1,sMax:L(e.start,e.x,e.y),fMax:L(e.finish,e.x,e.y)})}(e)),D.setMenuParams(e),u(e)};return Object(v.jsxs)("div",{style:S.menu,children:[Object(v.jsx)(P,{text:"width",name:"x",value:d,min:2,max:k,onChange:g,reset:!0}),Object(v.jsx)(P,{text:"height",name:"y",value:j,min:2,max:k,onChange:g,reset:!0}),Object(v.jsx)(P,{text:"size",name:"size",value:h,min:1,max:5,onChange:g}),Object(v.jsx)(C,{text:"start",names:["sMin","sMax"],values:[b,m],min:1,max:L(x,d,j),onChange:g,buttonValue:x,Icon:y}),Object(v.jsx)(C,{text:"finish",names:["fMin","fMax"],values:[p,M],min:1,max:L(O,d,j),onChange:g,buttonValue:O,Icon:w}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){var e=5*h+h,t=S.mazeWrapper.top,n=2*S.canvas.padding;g({x:Math.floor((window.innerWidth-n-h)/e),y:Math.floor((window.innerHeight-n-h-t)/e)},!0)},children:"fit on screen"}),Object(v.jsx)(f.a,{color:"primary",onClick:function(){n(l),t(l),a(!1)},children:"generate"})]})},q=function(e){var t=e.updateMaze,n=e.updateMazeParams,a=r.a.useState(!1),i=Object(o.a)(a,2),c=i[0],s=i[1],l=r.a.useRef(),u=r.a.useRef();r.a.useEffect((function(){var e=function(e){if(c){var t=l.current,n=u.current;t&&t.contains(e.target)||n&&n.contains(e.target)||s(!1)}};return c?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[c]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(d.a,{ref:u,color:"inherit","aria-label":"menu",onClick:function(){s(!c)},children:Object(v.jsx)(z,{})}),Object(v.jsx)("div",{ref:l,style:S.isShowMenu(c),children:Object(v.jsx)(A,{updateMaze:t,updateMazeParams:n,setIsShowMenu:s})})]})},G=function(e){var t=e.mazeParams,n=e.updateMaze,a=e.updateMazeParams,r=e.updateSize,i=e.isShowPath,c=e.toggleIsShowPath,s=e.loading;return Object(v.jsx)(l.a,{style:S.appBar,children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(f.a,{color:"inherit",disabled:s,onClick:function(){return n(t)},children:"generate"}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"show path",onClick:c,children:i?Object(v.jsx)(g,{}):Object(v.jsx)(M,{})}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"zoom out",onClick:function(){return r((null===t||void 0===t?void 0:t.size)-1)},children:Object(v.jsx)(O,{})}),Object(v.jsx)(d.a,{color:"inherit","aria-label":"zoom in",onClick:function(){return r((null===t||void 0===t?void 0:t.size)+1)},children:Object(v.jsx)(p,{})}),Object(v.jsx)(q,{updateMaze:n,updateMazeParams:a})]})})},K=function(e){var t=e.path,n=e.mazeParams,a=r.a.useRef();return r.a.useEffect((function(){var e=n.x,r=n.y,i=n.size,c=5*i,s=c+i,o=s/2,l=s/3,u=e*s+i,f=r*s+i,d=a.current,j=d.getContext("2d");d.width=u,d.height=f,j.fillStyle="#e91e63";for(var h=t.length,x=0;x<h;++x){var b=t[x],v=b.x,m=b.y;j.fillRect(v%2?v*o:v*o-l,m%2?m*o:m*o-l,v%2?i:c,m%2?i:c)}}),[t,n]),Object(v.jsx)("canvas",{ref:a,style:S.canvas})},Q=function(e){var t=e.ways,n=e.mazeParams,a=r.a.useRef();return r.a.useEffect((function(){var e=n.x,r=n.y,i=n.size,c=5*i,s=c+i,o=s/2,l=s/3,u=e*s+i,f=r*s+i,d=a.current,j=d.getContext("2d");d.width=u,d.height=f,j.fillStyle="#fff",j.fillRect(0,0,u,f),j.fillStyle="#263238";for(var h=0;h<=r;++h)j.fillRect(0,h*s,u,i);for(var x=0;x<=e;++x)j.fillRect(x*s,0,i,f);j.fillStyle="#fff";for(var b=t.length,v=0;v<b;++v){var m=t[v],O=m.x,p=m.y;j.fillRect(O%2?O*o-l:O*o,p%2?p*o-l:p*o,O%2?c:i,p%2?c:i)}}),[t,n]),Object(v.jsx)("canvas",{ref:a,style:S.canvas})},U=function(e){var t=e.maze,n=e.mazeParams,a=e.isShowPath;return Object(v.jsx)(v.Fragment,{children:t&&Object(v.jsxs)("div",{style:S.mazeWrapper,children:[Object(v.jsx)("span",{}),Object(v.jsxs)("div",{children:[Object(v.jsx)(Q,{ways:t.ways,mazeParams:n}),Object(v.jsx)("div",{style:S.isShowPath(a),children:Object(v.jsx)(K,{path:t.path,mazeParams:n})})]})]})})},X=n(29),Y=function(e){return[-1,B,1,-B].filter((function(t){return t!==-e}))},Z=function(e){var t,n=[],a=Object(X.a)(e.keys());try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push({x:~~(r/B),y:r%B})}}catch(i){a.e(i)}finally{a.f()}return n},$=function(e){var t=e.x,n=e.y,a=e.start,r=e.sMin,i=e.sMax,c=e.finish,s=e.fMin,o=e.fMax,l=function(e,t){return 2*Math.floor(Math.random()*(t-e+2)/2)+e},u=[function(e,t){return l(e,t)*B},function(e,n){return(t-1)*B+l(e,n)},function(e,t){return l(e,t)*B+n-1},function(e,t){return l(e,t)}],f=new Set,d=u[a](r,i);return f.add(d),f.add(function e(t){var n=u[c](s,o);return n===t?e(t):n}(d)),f},_=function(e){for(var t=e.x,n=e.y,a=new Set,r=1;r<n;r+=2)for(var i=1;i<t;i+=2)a.add(i*B+r);return a},ee=function(e,t,n,a,r){var i=r.length-1,c=r[i],s=c.vectors,o=c.curr;if(s.length){var l=s[Math.floor(Math.random()*s.length)];r[i].vectors=s.filter((function(e){return e!==l}));var u=l+o,f=2*l+o;n.has(u)&&(a.add(u),t.add(u),n.delete(u),n.size&&a.add(o)),e.has(f)&&(t.add(u),e.delete(f),r.push({prev:u,curr:f,vectors:Y(l)}),1===n.size&&(a.add(u),a.add(f)))}else 1===n.size&&(a.has(r[i].prev)?(a.delete(r[i].curr),a.delete(r[i].prev)):(a.add(r[i].prev),a.add(r[i-1].curr))),r.pop()},te=function(e){e=function(e){return Object(s.a)(Object(s.a)({},e),{},{x:E(e.x),y:E(e.y),sMin:H(e.sMin),sMax:H(e.sMax),fMin:H(e.fMin),fMax:H(e.fMax)})}(e=V(e));var t=$(e),n=_(e),a=new Set,r=new Set,i=function(e){var t=Array.from(e);return t[Math.floor(Math.random()*t.length)]}(n);n.delete(i);var c=[];for(c.push({curr:i,vectors:Y()});n.size||t.size;)ee(n,a,t,r,c);return{ways:Z(a),path:Z(r)}},ne=function(){var e=r.a.useState(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=r.a.useState(null),c=Object(o.a)(i,2),l=c[0],u=c[1],f=r.a.useState(!1),d=Object(o.a)(f,2),j=d[0],h=d[1],x=r.a.useState(!0),b=Object(o.a)(x,2),m=b[0],O=b[1];r.a.useEffect((function(){var e=D.getMazeParams();u(e),a(te(e)),setTimeout((function(){O(!1)}))}),[]);var p=function(e){D.setMazeParams(e),u(e)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(G,{mazeParams:l,updateMaze:function(e){O(!0),h(!1),a(null),setTimeout((function(){a(te(e)),setTimeout((function(){O(!1)}))}))},updateMazeParams:p,updateSize:function(e){e<1||e>5||p(Object(s.a)(Object(s.a)({},l),{},{size:e}))},isShowPath:j,toggleIsShowPath:function(){h(!j)},loading:m}),Object(v.jsx)(U,{maze:n,mazeParams:l,isShowPath:j})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[50,1,2]]]);
//# sourceMappingURL=main.59d525f8.chunk.js.map